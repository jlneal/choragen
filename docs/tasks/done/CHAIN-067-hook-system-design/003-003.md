# Task: Implement emit_event hook action

**Chain**: CHAIN-067-hook-system-design  
**Task**: 003-003  
**Status**: done  
**Type**: impl  
**Created**: 2025-12-13

---

## Objective

Implement the `emit_event` hook action in `TransitionHookRunner`. This action emits named events with payloads that listeners can subscribe to for event-driven orchestration.

---

## Expected Files

- `packages/core/src/workflow/hook-runner.ts` — Add emit_event action handler
- `packages/core/src/workflow/__tests__/hook-runner.test.ts` — Tests for emit_event action

---

## Acceptance Criteria

- [x] `emit_event` action handler in `TransitionHookRunner.runAction()`
- [x] Supports `eventType` (e.g., `"task:completed"`, `"chain:approved"`)
- [x] Supports `payload` object with arbitrary data
- [x] Uses injected event emitter (dependency injection pattern)
- [x] Returns `HookActionResult` with event emission details
- [x] Unit tests for emit_event action
- [x] `pnpm --filter @choragen/core test` passes

---

## Notes

**Completed 2025-12-12**: Implemented `eventEmitter` injection, `emit_event` handler with eventType validation, and `HookActionResultDetails.emitEvent` structure. Added 2 unit tests.

---

## Task Type Reference

- **impl** (default): Requires handoff to implementation agent in a fresh session
- **control**: Control agent executes directly (e.g., verification, review, closure tasks)
